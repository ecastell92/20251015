# ============================================================================
# EJEMPLO DE CONFIGURACIÓN - Central Resources (SOLO DOCUMENTACIÓN)
# ============================================================================
# ⚠️ IMPORTANTE: Este archivo NO se usa en producción
# ⚠️ Los valores reales deben configurarse en: iniciativas-backup/terraform.tfvars
# ⚠️ Este archivo solo sirve como referencia de qué valores necesita el módulo
# ============================================================================

# ─────────────────────────────────────────────────────────────────────────────
# EJEMPLO: Configuración básica
# ─────────────────────────────────────────────────────────────────────────────

aws_region  = "eu-west-1"
environment = "dev"
tenant      = "00"

central_backup_bucket_name = "00-dev-s3-bucket-central-bck-001-aws-notinet"
central_backup_vault_name  = "00-dev-s3-aws-vault-bck-001-aws"
sufijo_recursos            = "bck-001-aws-notinet"

# ─────────────────────────────────────────────────────────────────────────────
# EJEMPLO: Reglas GFS
# ─────────────────────────────────────────────────────────────────────────────

gfs_rules = {
  Critico = {
    enable                     = true
    start_storage_class        = "GLACIER_IR"
    son_retention_days         = 14
    father_da_days             = 90
    father_retention_days      = 365
    father_archive_class       = "DEEP_ARCHIVE"
    grandfather_da_days        = 0
    grandfather_retention_days = 730
    grandfather_archive_class  = "DEEP_ARCHIVE"
  }

  MenosCritico = {
    enable                     = true
    start_storage_class        = "GLACIER_IR"
    son_retention_days         = 7
    father_da_days             = 90
    father_retention_days      = 120
    father_archive_class       = "DEEP_ARCHIVE"
    grandfather_da_days        = 0
    grandfather_retention_days = 365
    grandfather_archive_class  = "DEEP_ARCHIVE"
  }

  NoCritico = {
    enable                     = true
    start_storage_class        = "GLACIER"
    son_retention_days         = 0
    father_da_days             = 0
    father_retention_days      = 90
    father_archive_class       = "GLACIER"
    grandfather_da_days        = 0
    grandfather_retention_days = 0
    grandfather_archive_class  = "GLACIER"
  }
}

# ─────────────────────────────────────────────────────────────────────────────
# EJEMPLO: Validaciones
# ─────────────────────────────────────────────────────────────────────────────

min_deep_archive_offset_days = 90

# ─────────────────────────────────────────────────────────────────────────────
# EJEMPLO: Seguridad (todas deshabilitadas por defecto)
# ─────────────────────────────────────────────────────────────────────────────

enable_object_lock         = false
object_lock_mode           = "COMPLIANCE"
object_lock_retention_days = 0
deny_delete_enabled        = false
allow_delete_principals    = []
require_mfa_for_delete     = false

# ─────────────────────────────────────────────────────────────────────────────
# EJEMPLO: Lifecycle rules legacy (deprecated)
# ─────────────────────────────────────────────────────────────────────────────

lifecycle_rules = {
  Critico      = { glacier_transition_days = 0, deep_archive_transition_days = 90, expiration_days = 365, incremental_expiration_days = 14, incremental_glacier_transition_days = 0, use_glacier_ir = true }
  MenosCritico = { glacier_transition_days = 0, deep_archive_transition_days = 90, expiration_days = 120, incremental_expiration_days = 7, incremental_glacier_transition_days = 0, use_glacier_ir = true }
  NoCritico    = { glacier_transition_days = 0, deep_archive_transition_days = 0, expiration_days = 90, incremental_expiration_days = 0, incremental_glacier_transition_days = 0, use_glacier_ir = false }
}

# ═════════════════════════════════════════════════════════════════════════════
# NOTA FINAL
# ═════════════════════════════════════════════════════════════════════════════
# Para usar este módulo, configurar los valores en:
#   iniciativas-backup/terraform.tfvars
#
# El módulo raíz (main.tf) pasará los valores automáticamente a este submódulo
# ═════════════════════════════════════════════════════════════════════════════